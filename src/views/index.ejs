<!DOCTYPE html>
<html>

<head>
    <title>Registro de Animais</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        h2 {
            margin-bottom: 20px;
        }

        /* Estilos da Tabela */
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid black;
            padding: 5px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        .action {
            width: 25px;
        }

        .delete-btn {
            color: white;
            border: none;
            padding: 5px;
            cursor: pointer;
        }

        /* Estilos do Formul√°rio */
        .form-container {
            width: 80%;
            margin: 20px auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        .form-group {
            display: flex;
            align-items: center;
        }

        label {
            font-weight: bold;
            margin-right: 5px;
        }

        input {
            padding: 5px;
            text-align: center;
            width: 150px;
        }

        .form-btn {
            width: 100%;
            text-align: center;
            margin-top: 10px;
        }

        .form-btn button {
            background: green;
        }

        button {
            color: white;
            padding: 7px 15px;
            border: none;
            cursor: pointer;
        }

        .action {
            width: auto;
        }

        .btn-group {
            display: flex;
            gap: 5px;
            /* Espa√ßamento entre os bot√µes */
            justify-content: center;
            align-items: center;
        }
    </style>
</head>

<body>

    <h2>UniPet - ADS</h2>
    <p>RA: 1189354-23</p>

    <!-- Formul√°rio de Adi√ß√£o -->
    <form action="/pet/create" method="POST" class="form-container">
        <div class="form-group">
            <label>Nome:</label>
            <input type="text" name="name" required>
        </div>

        <div class="form-group">
            <label>Esp√©cie:</label>
            <input type="text" name="gender" required>
        </div>

        <div class="form-group">
            <label>Ra√ßa:</label>
            <input type="text" name="breed" required>
        </div>

        <div class="form-group">
            <label>Idade:</label>
            <input type="number" name="age" required>
        </div>

        <div class="form-group">
            <label>Tutor:</label>
            <input type="text" name="guardian" required>
        </div>

        <div class="form-group">
            <label>Atividade:</label>
            <input type="text" name="action" required>
        </div>

        <div class="form-btn">
            <button type="submit">Adicionar</button>
        </div>
    </form>

    <table>
        <tr>
            <th>Nome</th>
            <th>Esp√©cie</th>
            <th>Ra√ßa</th>
            <th>Idade</th>
            <th>Tutor</th>
            <th>Atividade</th>
            <th class="action">A√ß√£o</th>
        </tr>

        <% if (pets.length> 0) { %>
            <% pets.forEach(pet=> { %>
                <tr id="row-<%= pet.id %>">
                    <td>
                        <%= pet.name %>
                    </td>
                    <td>
                        <%= pet.gender %>
                    </td>
                    <td>
                        <%= pet.breed %>
                    </td>
                    <td>
                        <%= pet.age %> anos
                    </td>
                    <td>
                        <%= pet.guardian %>
                    </td>
                    <td>
                        <%= pet.action %>
                    </td>
                    <td class="action">
                        <div class="btn-group">
                            <button onclick="editPet('<%= pet.id %>')">‚úèÔ∏è</button>
                            <form action="/pet/delete/<%= pet.id %>" method="POST">
                                <button class="delete-btn">üóëÔ∏è</button>
                            </form>
                        </div>
                    </td>
                </tr>
                <tr id="edit-form-<%= pet.id %>" style="display: none;">
                    <form action="/pet/update/<%= pet.id %>" method="POST">
                        <td><input type="text" name="name" value="<%= pet.name %>" required></td>
                        <td><input type="text" name="gender" value="<%= pet.gender %>" required></td>
                        <!-- Agora edit√°vel -->
                        <td><input type="text" name="breed" value="<%= pet.breed %>" required></td>
                        <!-- Agora edit√°vel -->
                        <td><input type="number" name="age" value="<%= pet.age %>" required></td>
                        <td><input type="text" name="guardian" value="<%= pet.guardian %>" required></td>
                        <td>
                            <%= pet.action %>
                        </td> <!-- Mantendo a exibi√ß√£o da atividade -->
                        <td class="action">
                            <button type="submit">‚úÖ</button>
                            <button type="button" onclick="cancelEdit('<%= pet.id %>')">‚ùå</button>
                        </td>
                    </form>
                </tr>
                <% }); %>
                    <% } %>
    </table>



    <script>
        function editPet(id) {
            document.getElementById(`row-${id}`).style.display = "none";
            document.getElementById(`edit-form-${id}`).style.display = "table-row";
        }

        function cancelEdit(id) {
            document.getElementById(`row-${id}`).style.display = "table-row";
            document.getElementById(`edit-form-${id}`).style.display = "none";
        }
    </script>

</body>

</html>